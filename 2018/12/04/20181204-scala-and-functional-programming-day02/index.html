<!DOCTYPE html>
<html lang=Ko>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="출처: 스칼라로 배우는 함수형 프로그래밍 3장 Chapter 03. 함수적 자료구조이번 챕터에서 다룰 내용  함수형 프로그래밍 스타일 작성된 Single Linked List 살펴보기 (함수적 자료구조) Pattern Matching 함수형 자료구조에서의 Data Sharing 고차함수와 타입추론, 그리고 고차함수 일반화 함수형 프로그래밍 스타일로 Bina">
<meta name="keywords" content="scala,functional programming">
<meta property="og:type" content="article">
<meta property="og:title" content="스칼라 스터디 Day02 - 함수적 자료구조">
<meta property="og:url" content="http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/index.html">
<meta property="og:site_name" content="Icednut&#39;s Note">
<meta property="og:description" content="출처: 스칼라로 배우는 함수형 프로그래밍 3장 Chapter 03. 함수적 자료구조이번 챕터에서 다룰 내용  함수형 프로그래밍 스타일 작성된 Single Linked List 살펴보기 (함수적 자료구조) Pattern Matching 함수형 자료구조에서의 Data Sharing 고차함수와 타입추론, 그리고 고차함수 일반화 함수형 프로그래밍 스타일로 Bina">
<meta property="og:locale" content="Korean">
<meta property="og:updated_time" content="2018-12-11T11:48:47.149Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="스칼라 스터디 Day02 - 함수적 자료구조">
<meta name="twitter:description" content="출처: 스칼라로 배우는 함수형 프로그래밍 3장 Chapter 03. 함수적 자료구조이번 챕터에서 다룰 내용  함수형 프로그래밍 스타일 작성된 Single Linked List 살펴보기 (함수적 자료구조) Pattern Matching 함수형 자료구조에서의 Data Sharing 고차함수와 타입추론, 그리고 고차함수 일반화 함수형 프로그래밍 스타일로 Bina">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>스칼라 스터디 Day02 - 함수적 자료구조</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/12/10/20181210-scala-and-functional-programming-day03/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/11/25/20181125-scala-and-functional-programming-day01/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&text=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&is_video=false&description=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=스칼라 스터디 Day02 - 함수적 자료구조&body=Check out this article: http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&name=스칼라 스터디 Day02 - 함수적 자료구조&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Chapter-03-함수적-자료구조"><span class="toc-number">1.</span> <span class="toc-text">Chapter 03. 함수적 자료구조</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#함수적-자료구조"><span class="toc-number">1.1.</span> <span class="toc-text">함수적 자료구조</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#공변-Covariant-과-불변-Invariant"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">공변(Covariant)과 불변(Invariant)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pattern-Matching"><span class="toc-number">1.2.</span> <span class="toc-text">Pattern Matching</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#함수적-자료구조에서의-Data-Sharing"><span class="toc-number">1.3.</span> <span class="toc-text">함수적 자료구조에서의 Data Sharing</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#연습문제3-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">연습문제3.2)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#연습문제3-3"><span class="toc-number">1.3.2.</span> <span class="toc-text">연습문제3.3)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#고차함수와-타입추론-그리고-고차함수-일반화"><span class="toc-number">1.4.</span> <span class="toc-text">고차함수와 타입추론, 그리고 고차함수 일반화</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#함수형-프로그래밍-스타일로-Binary-Tree-구현하기"><span class="toc-number">1.5.</span> <span class="toc-text">함수형 프로그래밍 스타일로 Binary Tree 구현하기</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        스칼라 스터디 Day02 - 함수적 자료구조
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="name">Icednut's Note</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-12-04T12:31:10.000Z" itemprop="datePublished">2018-12-04</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/functional-programming/">functional programming</a>, <a class="tag-link" href="/tags/scala/">scala</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>출처: 스칼라로 배우는 함수형 프로그래밍 3장</p>
<h2 id="Chapter-03-함수적-자료구조"><a href="#Chapter-03-함수적-자료구조" class="headerlink" title="Chapter 03. 함수적 자료구조"></a>Chapter 03. 함수적 자료구조</h2><p>이번 챕터에서 다룰 내용</p>
<ul>
<li>함수형 프로그래밍 스타일 작성된 <code>Single Linked List</code> 살펴보기 (함수적 자료구조)</li>
<li>Pattern Matching</li>
<li>함수형 자료구조에서의 Data Sharing</li>
<li>고차함수와 타입추론, 그리고 고차함수 일반화</li>
<li>함수형 프로그래밍 스타일로 <code>Binary Tree</code> 구현하기</li>
</ul>
<p><br></p>
<p><br></p>
<h3 id="함수적-자료구조"><a href="#함수적-자료구조" class="headerlink" title="함수적 자료구조"></a>함수적 자료구조</h3><p>먼저 함수적 자료구조의 정의부터 살펴보자. 함수적 자료구조란 무엇일까?</p>
<ul>
<li>순수한 함수만으로 조작되는 자료구조</li>
<li>함수적 자료구조는 조작이 일어나도 그 원본은 영원히 불변이다.</li>
<li>예를 들어 List()와 같은 빈 리스트는 정수 값 3이나 4처럼 영원히 불변이(Immutable) 값이다.</li>
<li>3 + 4를 수행하면 새로운 정수 값 7이 나오는 것처럼 두 리스트를 합쳐도 입력으로 받은 두 리스트는 변경되지 않는다.</li>
</ul>
<p>스칼라에서는 List가 불변이라니 어떻게 그럴수가 있을까? 여기 스칼라로 작성된 불변 싱글 링크드 리스트 구현을 살펴보자.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sealed</span> <span class="class"><span class="keyword">trait</span> <span class="title">List</span>[+<span class="type">A</span>]</span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">object</span> <span class="title">Nil</span> <span class="keyword">extends</span> <span class="title">List</span>[<span class="type">Nothing</span>]</span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">Cons</span>[+<span class="type">A</span>](<span class="params">head: <span class="type">A</span>, tail: <span class="type">List</span>[<span class="type">A</span>]</span>) <span class="keyword">extends</span> <span class="title">List</span>[<span class="type">A</span>]</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">object</span> <span class="title">List</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>[<span class="type">A</span>](as: <span class="type">A</span>*): <span class="type">List</span>[<span class="type">A</span>] = </span><br><span class="line">    <span class="keyword">if</span> (as.isEmpty) <span class="type">Nil</span></span><br><span class="line">    <span class="keyword">else</span> <span class="type">Cons</span>(as.head, apply(as.tail: _*))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드를 사용하여 List를 생성해보자. (여기서는 List 동반객체companion object를 사용하면 된다.)</p>
<script src="https://scastie.scala-lang.org/icednut/pNNYh0CGRUSsAUDB1yfS3w.js"></script>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xs와 ys 자료 구조 형태</span><br><span class="line"></span><br><span class="line">Cons(&quot;a&quot;, tail)</span><br><span class="line">           ㄴㅡㅡ Cons(&quot;b&quot;, tail)</span><br><span class="line">                            ㄴㅡㅡ Nil</span><br></pre></td></tr></table></figure>
<p>여기서 List 트레이트와 Cons 케이스 클래스의 타입 파라미터에 왜  +A라고 붙였을까? 이유는 다음과 같다.</p>
<ul>
<li>Cons의 구성 요소로는 타입 A가 될 수도 있고 A의 하위 형식이 올 수도 있기 때문</li>
<li>(여기서 A의 하위 형식은 Nothing이 되고 Nothing은 모든 타입의 서브타입이다.)</li>
<li>여기서는 +A 는 공변(Covariant)를 뜻한다.</li>
</ul>
<p>만약 리스트의 타입 파라미터가 공변이 아니라면 어떻게 될까? 그럼 Cons와 같이 리스트에 데이터를 추가하는 행위를 할 수 없게 된다. (이유: <code>List[Nothing]</code> 타입인 Nil을 다룰 수 없기 때문)</p>
<script src="https://scastie.scala-lang.org/icednut/FxZrfkH6RBeL92ioJOmQWw.js"></script>

<blockquote>
<h5 id="공변-Covariant-과-불변-Invariant"><a href="#공변-Covariant-과-불변-Invariant" class="headerlink" title="공변(Covariant)과 불변(Invariant)"></a>공변(Covariant)과 불변(Invariant)</h5><p>예를 들어, 만일 Dog가 Animal의 서브타입이면 <code>List[Dog]</code>가 <code>List[Animal]</code>의 하위 형식으로 간주되도록 하고 싶을 경우 <code>trait List[+A]</code>라고 타입 파라미터에 +를 붙여주면 공변 타입 파라미터가 된다.</p>
<p><br></p>
<p>반면, 만약 A 앞에 +가 없다면 <code>List[Dog]</code>와 <code>List[Animal]</code>은 하위 형식 관계가 아닌 서로 다른 타입이 된다. 여기서 타입 파라미터를 불변(invariant)이라고 표현한다.</p>
</blockquote>
<p><br></p>
<p><br></p>
<h3 id="Pattern-Matching"><a href="#Pattern-Matching" class="headerlink" title="Pattern Matching"></a>Pattern Matching</h3><p>먼저 패턴 매칭을 쓴 메소드를 먼저 살펴보자.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(ints: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">Int</span> = ints <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Nil</span> =&gt; <span class="number">0</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Cons</span>(x, xs) =&gt; x + sum(xs)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span></span>(ds: <span class="type">List</span>[<span class="type">Double</span>]): <span class="type">Double</span> = ds <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Nil</span> =&gt; <span class="number">1.0</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Cons</span>(<span class="number">0.0</span>, _) =&gt; <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Cons</span>(x, xs) =&gt; x * product(xs)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>sum</code> 메소드부터 살펴보면, 파라미터로 받은 ints가 빈 배열일 경우(case Nil) 0을 반환하고, 첫 번째 요소가 있고 꼬리로 다음 리스트가 있을 경우(<code>case Cons(x, xs)</code>) 재귀적으로 요소를 더하는 과정을 거친다.</p>
<p>이렇게 패턴 매칭은 자료구조의 내용이 매칭되는지를 판단할 때 쓰인다. 또한 책에 따르면 재귀호출과 결합하여 쓰는 경우도 많다고 한다.</p>
<p>다음 패턴 매칭은 어떤 값을 반환할까?</p>
<ul>
<li><code>List(1,2,3) match { case _ =&gt; 42 }</code></li>
<li><code>List(1,2,3) match { case Cons(h, _) =&gt; h }</code></li>
<li><code>List(1,2,3) match { case Cons(_, t) =&gt; t }</code></li>
<li><code>List(1,2,3) match { case Nil =&gt; 42 }</code></li>
</ul>
<p>는 읽는 사람의 상상에..</p>
<p>참고로 스칼라 표준 라이브러리의 List를 써서 패턴 매칭을 할 경우 case Cons(h, t)로 쓰기보다는 case h :: t라고 쓴다. 즉 더 많은 요소를 추출하기 위해 괄호를 중첩할 필요 없이 case h :: h2 :: t 같이 간편하게 쓸 수 있다.</p>
<p><br></p>
<p><br></p>
<h3 id="함수적-자료구조에서의-Data-Sharing"><a href="#함수적-자료구조에서의-Data-Sharing" class="headerlink" title="함수적 자료구조에서의 Data Sharing"></a>함수적 자료구조에서의 Data Sharing</h3><p>앞에서 작성한 List가 불변이라면 해당 리스트에 요소를 추가하거나 요소를 제거하는 함수는 어떻게 작성할까?</p>
<p>답은 요소를 추가한 리스트를 반환하거나 요소를 제거한 리스트를 반환하는 함수를 만들면 된다.</p>
<h4 id="연습문제3-2"><a href="#연습문제3-2" class="headerlink" title="연습문제3.2)"></a>연습문제3.2)</h4><p>List의 첫 요소를 제거하는 함수 tail 구현하기</p>
<script src="https://scastie.scala-lang.org/icednut/ubFvVTh3QOikuMN5GlSuvw.js"></script>

<h4 id="연습문제3-3"><a href="#연습문제3-3" class="headerlink" title="연습문제3.3)"></a>연습문제3.3)</h4><p>List의 첫 요소를 다른 값으로 대체하는 함수 setHead 구현하기</p>
<script src="https://scastie.scala-lang.org/icednut/4RsjXHZZQRWzDMdf8Bszug.js"></script>

<p>Data Sharing을 사용하면 리스트의 끝에 다른 리스트를 붙이는 것을 할 수 있다.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append</span></span>[<span class="type">A</span>](a1: <span class="type">String</span>[<span class="type">A</span>], a2: <span class="type">List</span>[<span class="type">A</span>]): <span class="type">List</span>[<span class="type">A</span>] = </span><br><span class="line">    a1 <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Nil</span> =&gt; a2</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Cons</span>(h, t) =&gt; <span class="type">Cons</span>(h, append(t, a2))</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><br></p>
<h3 id="고차함수와-타입추론-그리고-고차함수-일반화"><a href="#고차함수와-타입추론-그리고-고차함수-일반화" class="headerlink" title="고차함수와 타입추론, 그리고 고차함수 일반화"></a>고차함수와 타입추론, 그리고 고차함수 일반화</h3><p>아래와 같이 고차함수가 있을 경우 이 고차함수를 호출할 때 넘기는 익명함수에는 익명함수의 파라미터를 명시해야 한다고 한다.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropWhile</span></span>[<span class="type">A</span>](l: <span class="type">List</span>[<span class="type">A</span>], f: <span class="type">A</span> =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">A</span>] = ???</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> xs: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="keyword">val</span> ex1 = dropWhile(xs, (x: <span class="type">Int</span>) =&gt; x &lt; <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p>그러나 아래와 같이 커링을 사용하면 익명함수의 파라미터 타입이 고정되어 버린다. </p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropWhile</span></span>[<span class="type">A</span>](as: <span class="type">List</span>[<span class="type">A</span>])(f: <span class="type">A</span> =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">A</span>] = </span><br><span class="line">    as <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">Cons</span>(h, t) <span class="keyword">if</span> f(h) =&gt; dropWhile(t)(f)</span><br><span class="line">        <span class="keyword">case</span> _ =&gt; as</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> xs: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="keyword">val</span> ex1 = dropWhile(xs)(x =&gt; x &lt; <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p>위와 같은 경우 커링되는 결과의 파라미터가 A로 고정되기 때문에 Int가 된다. 인수들을 이런 식으로 묶는 것은 스칼라의 타입 추론을 돕기 위한 행위라고 볼 수 있다.</p>
<p>위에서 본 sum과 product 코드를 보면 핵심 연산만 다를 뿐 패턴 매칭하는 과정이 비슷하다.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(ints: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">Int</span> = ints <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Nil</span> =&gt; <span class="number">0</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Cons</span>(x, xs) =&gt; x + sum(xs)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span></span>(ds: <span class="type">List</span>[<span class="type">Double</span>]): <span class="type">Double</span> = ds <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Nil</span> =&gt; <span class="number">1.0</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Cons</span>(x, xs) =&gt; x * product(xs)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이 경우 부분 표현식들을 추출해서 커링의 인수로 대체하는 것으로 일반화하는 것이 가능하다.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foldRight</span></span>[<span class="type">A</span>, <span class="type">B</span>](as: <span class="type">List</span>[<span class="type">A</span>], z: <span class="type">B</span>)(f: (<span class="type">A</span>, <span class="type">B</span>) =&gt; <span class="type">B</span>): <span class="type">B</span> = as <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Nil</span> =&gt; z</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Cons</span>(x, xs) =&gt; f(x, foldRight(xs, z)(f))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(ns: <span class="type">List</span>[<span class="type">Int</span>]) = foldRight(ns, <span class="number">0</span>)(_ + _)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span></span>(ns: <span class="type">List</span>[<span class="type">Double</span>]) = foldRight(ns, <span class="number">1.0</span>)(_ * _)</span><br></pre></td></tr></table></figure>
<p>위 sum 메소드를 사용하면 다음과 같이 치환된다.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">foldRight(<span class="type">Cons</span>(<span class="number">1</span>, <span class="type">Cons</span>(<span class="number">2</span>, <span class="type">Cons</span>(<span class="number">3</span>, <span class="type">Nil</span>))), <span class="number">0</span>)(_ + _)</span><br><span class="line"><span class="number">1</span> + foldRight(<span class="type">Cons</span>(<span class="number">2</span>, <span class="type">Cons</span>(<span class="number">3</span>, <span class="type">Nil</span>)), <span class="number">0</span>)(_ + _)</span><br><span class="line"><span class="number">1</span> + (<span class="number">2</span> + foldRight(<span class="type">Cons</span>(<span class="number">3</span>, <span class="type">Nil</span>), <span class="number">0</span>)(_ + _))</span><br><span class="line"><span class="number">1</span> + (<span class="number">2</span> + (<span class="number">3</span> + foldRight(<span class="type">Cons</span>(<span class="type">Nil</span>), <span class="number">0</span>)(_ + _)))</span><br><span class="line"><span class="number">1</span> + (<span class="number">2</span> + (<span class="number">3</span> + (<span class="number">0</span>)))</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<p><br></p>
<h3 id="함수형-프로그래밍-스타일로-Binary-Tree-구현하기"><a href="#함수형-프로그래밍-스타일로-Binary-Tree-구현하기" class="headerlink" title="함수형 프로그래밍 스타일로 Binary Tree 구현하기"></a>함수형 프로그래밍 스타일로 Binary Tree 구현하기</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sealed</span> <span class="class"><span class="keyword">trait</span> <span class="title">Tree</span>[+<span class="type">A</span>]</span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">Leaf</span>[<span class="type">A</span>](<span class="params">value: <span class="type">A</span></span>) <span class="keyword">extends</span> <span class="title">Tree</span>[<span class="type">A</span>]</span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">Branch</span>[<span class="type">A</span>](<span class="params">left: <span class="type">Tree</span>[<span class="type">A</span>], right: <span class="type">Tree</span>[<span class="type">A</span>]</span>) <span class="keyword">extends</span> <span class="title">Tree</span>[<span class="type">A</span>]</span></span><br></pre></td></tr></table></figure>
<p>나중에 size, maximum, depth, map 함수를 작성해보자. 그리고 이 4개의 함수를 일반화한 fold도 작성해보자.</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Chapter-03-함수적-자료구조"><span class="toc-number">1.</span> <span class="toc-text">Chapter 03. 함수적 자료구조</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#함수적-자료구조"><span class="toc-number">1.1.</span> <span class="toc-text">함수적 자료구조</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#공변-Covariant-과-불변-Invariant"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">공변(Covariant)과 불변(Invariant)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pattern-Matching"><span class="toc-number">1.2.</span> <span class="toc-text">Pattern Matching</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#함수적-자료구조에서의-Data-Sharing"><span class="toc-number">1.3.</span> <span class="toc-text">함수적 자료구조에서의 Data Sharing</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#연습문제3-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">연습문제3.2)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#연습문제3-3"><span class="toc-number">1.3.2.</span> <span class="toc-text">연습문제3.3)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#고차함수와-타입추론-그리고-고차함수-일반화"><span class="toc-number">1.4.</span> <span class="toc-text">고차함수와 타입추론, 그리고 고차함수 일반화</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#함수형-프로그래밍-스타일로-Binary-Tree-구현하기"><span class="toc-number">1.5.</span> <span class="toc-text">함수형 프로그래밍 스타일로 Binary Tree 구현하기</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&text=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&is_video=false&description=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=스칼라 스터디 Day02 - 함수적 자료구조&body=Check out this article: http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&title=스칼라 스터디 Day02 - 함수적 자료구조"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://icednut.github.io/2018/12/04/20181204-scala-and-functional-programming-day02/&name=스칼라 스터디 Day02 - 함수적 자료구조&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Icednut
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'icednut';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


