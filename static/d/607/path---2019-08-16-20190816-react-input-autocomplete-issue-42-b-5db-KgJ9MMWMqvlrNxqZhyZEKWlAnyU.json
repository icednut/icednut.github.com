{"data":{"site":{"siteMetadata":{"title":"Icednut's Notes","author":"Will Lee","siteUrl":"https://icednut.github.io"}},"markdownRemark":{"id":"b2343bac-3be6-5278-8191-8c55d4526bad","excerpt":"이슈: React 환경의 Text Input에서 자동 완성 기능이 활성화 되지 않음보통 Text Input…","html":"<h3>이슈: React 환경의 Text Input에서 자동 완성 기능이 활성화 되지 않음</h3>\n<p>보통 Text Input 태그에는 이전에 작성했던 텍스트가 기본으로 자동완성 되는 줄 알았다. 마치 아래 예제처럼 말이다. (스크린샷에 까만색 팝업 레이어가 바로 자동완성된 텍스트가 출력된 모습이다)</p>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 25.232403718459494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxElEQVQY05VQSQqDQBCczwji1a/4WQ2oiaD/UHDfD+5aSQ1MMMc0FL1Ud3XPiDiOQTyfLziOA9u2P/6BIAgwDAP+NVEUBdI0hWVZME0ThmFA13VomoYoimTTuq7Y9/2L4zh+coXzPCGqqkKe5wjDEK7rSvi+D8/zkCQJ+r5H13Vo21bGTdNgHEeZq3pZlqjrGtM0QWRZBl5JkkWSHCS5bZv0y7Jgnucf3Gt8Ae26LghupJgSZE5ws4rJ0d95dS371F9T8A1J428+gEDrOAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"01\"\n        title=\"\"\n        src=\"/static/c66295ae2afa77be0573b6cbaac3d517/b9e4f/01.png\"\n        srcset=\"/static/c66295ae2afa77be0573b6cbaac3d517/cf440/01.png 148w,\n/static/c66295ae2afa77be0573b6cbaac3d517/d2d38/01.png 295w,\n/static/c66295ae2afa77be0573b6cbaac3d517/b9e4f/01.png 590w,\n/static/c66295ae2afa77be0573b6cbaac3d517/f9b6a/01.png 885w,\n/static/c66295ae2afa77be0573b6cbaac3d517/2d849/01.png 1180w,\n/static/c66295ae2afa77be0573b6cbaac3d517/423ff/01.png 1506w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  </p>\n<p style=\"text-align: center\">[예제: <a href=\"https://www.w3schools.com/TagS/tryit.asp?filename=tryhtml5_form_autocomplete\">https://www.w3schools.com/TagS/tryit.asp?filename=tryhtml5_form_autocomplete</a>]</p>\n<p>그런데 React를 이용하여 Input 태그를 작성하니 내가 기대한대로 자동완성(Auto Complete)이 활성화 되질 않았다. 내가 작성한 React Input 태그 사용 코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>useState<span class=\"token punctuation\">,</span> useEffect<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>DropdownButton<span class=\"token punctuation\">,</span> Dropdown<span class=\"token punctuation\">,</span> Form<span class=\"token punctuation\">,</span> InputGroup<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-bootstrap\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Navbar</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchValue<span class=\"token punctuation\">,</span> setSearchValue<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">searchProfiles</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">...</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleProfileSearchKeyword</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>target<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> e<span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setSearchValue</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>nav className<span class=\"token operator\">=</span><span class=\"token string\">\"navbar navbar-header navbar-expand-lg\"</span> data<span class=\"token operator\">-</span>background<span class=\"token operator\">-</span>color<span class=\"token operator\">=</span><span class=\"token string\">\"dark2\"</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>InputGroup<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span>DropdownButton\n                        <span class=\"token keyword\">as</span><span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>InputGroup<span class=\"token punctuation\">.</span>Prepend<span class=\"token punctuation\">}</span>\n                        variant<span class=\"token operator\">=</span><span class=\"token string\">\"primary\"</span>\n                        title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>searchKeyName<span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>Dropdown<span class=\"token punctuation\">.</span>Item href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Dropdown<span class=\"token punctuation\">.</span>Item<span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>Dropdown<span class=\"token punctuation\">.</span>Item href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Dropdown<span class=\"token punctuation\">.</span>Item<span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>Dropdown<span class=\"token punctuation\">.</span>Item href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Dropdown<span class=\"token punctuation\">.</span>Item<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>DropdownButton<span class=\"token operator\">></span>\n<span class=\"gatsby-highlight-code-line\">                    <span class=\"token operator\">&lt;</span>Form<span class=\"token punctuation\">.</span>Control</span><span class=\"gatsby-highlight-code-line\">                        type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span></span><span class=\"gatsby-highlight-code-line\">                        name<span class=\"token operator\">=</span><span class=\"token string\">\"search\"</span></span><span class=\"gatsby-highlight-code-line\">                        placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"search\"</span></span><span class=\"gatsby-highlight-code-line\">                        onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleSearchKeyword<span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">                    <span class=\"token operator\">/</span><span class=\"token operator\">></span></span>                    <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span> className<span class=\"token operator\">=</span><span class=\"token string\">\"btn btn-search pr-3\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>search<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>i className<span class=\"token operator\">=</span><span class=\"token string\">\"fa fa-search search-icon\"</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>InputGroup<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n            <span class=\"token operator\">...</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Navbar<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>중간에 <code class=\"language-text\">&lt;Form.Control&gt;</code>을 사용한 코드가 바로 input 태그이다. 위 코드를 브라우저에서 실행하면 다음과 같이 나온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>input-group<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>dropdown input-group-prepend<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">aria-haspopup</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-expanded</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>dropdown-toggle btn btn-primary<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>btn btn-search pr-3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fa fa-search search-icon<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>문제는 위 input에 텍스트를 입력 후 버튼을 클릭하여 submit하고 페이지 새로 고침을 해도 내가 이전에 입력한 텍스트가 자동완성으로 나오질 않는다는게 문제다. 이걸 어떻게 해결할까?\n<br/>\n<br/></p>\n<h3>해결</h3>\n<p>일단 인터넷에서 검색해보면 input 태그의 name 프로퍼티와 autocomplete 프로퍼티의 값을 일치시켜야 된다는 글이 종종 보인다.</p>\n<ul>\n<li><a href=\"http://blog.nekoromancer.kr/2016/03/11/html5-input-%ED%85%8C%EA%B7%B8%EC%97%90-autocomplete-%EC%86%8D%EC%84%B1-%EC%A0%9C%EB%8C%80%EB%A1%9C-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0/\">http://blog.nekoromancer.kr/2016/03/11/html5-input-%ED%85%8C%EA%B7%B8%EC%97%90-autocomplete-%EC%86%8D%EC%84%B1-%EC%A0%9C%EB%8C%80%EB%A1%9C-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0/</a></li>\n</ul>\n<p>아니면 input 태그를 감싸고 있는 form 태그의 autocomplete 프로퍼티에 on을 입력해야 된다는 글도 보인다.</p>\n<ul>\n<li><a href=\"http://triki.net/prgm/126\">http://triki.net/prgm/126</a></li>\n<li><a href=\"https://www.w3schools.com/Tags/att_input_autocomplete.asp\">https://www.w3schools.com/Tags/att<em>input</em>autocomplete.asp</a></li>\n</ul>\n<p>이런 글들은 반은 맞고 반은 틀렸다. 왜냐하면 submit을 해야지만 input 태그에 입력한 값이 브라우저에 저장이 되기 때문이다. 글에는 submit에 관한 내용이 빠져있다. 내가 작성한 코드에 아무리 autocomplete 프로퍼티를 추가해도 자동완성이 되질 않는게 바로 그 증거다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"gatsby-highlight-code-line\">&lt;Form.Control</span><span class=\"gatsby-highlight-code-line\">    type=\"text\"</span><span class=\"gatsby-highlight-code-line\">    name=\"search\"</span><span class=\"gatsby-highlight-code-line\">    placeholder=\"search\"</span><span class=\"gatsby-highlight-code-line\">    onChange={handleSearchKeyword}</span>    autoComplete=\"search\"\n<span class=\"gatsby-highlight-code-line\">/></span>\n---\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autocomplete</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>참고로 React DOM에서 autocomplete는 카멜케이스로 써줘야 한다. (사유: <a href=\"https://reactjs.org/docs/dom-elements.html\">https://reactjs.org/docs/dom-elements.html</a>)</p>\n<p><a href=\"https://github.com/facebook/react/issues/1159#issuecomment-506584346\">https://github.com/facebook/react/issues/1159#issuecomment-506584346</a></p>","frontmatter":{"title":"React Input에서 자동완성(Auto Complete)가 활성화 안되는 이슈 해결하기","date":"2019-08-16 17:43:11","tags":["javascript","html","React"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019/08/16/20190816-react-input-autocomplete-issue/","previous":{"fields":{"slug":"/2019/07/09/20190709-java-hbase-logback-slf4j/"},"frontmatter":{"title":"Java Hbase-client 디펜던시 추가 후 로그가 제대로 안나오는 이슈 (with Slf4j, Logback)"}},"next":null}}