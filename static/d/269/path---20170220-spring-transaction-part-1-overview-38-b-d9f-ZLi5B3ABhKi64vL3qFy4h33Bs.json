{"data":{"site":{"siteMetadata":{"title":"Icednut's Notes","author":"Will Lee","siteUrl":"https://icednut.github.io"}},"markdownRemark":{"id":"d88a432f-ffdf-52a8-be74-0a2f3a317f4f","excerpt":"얼마전에 스프링 관련 커뮤니티에서 Spring에서 XML로 설정된 Transaction Advice에 대해서 Java Configuration…","html":"<p>얼마전에 스프링 관련 커뮤니티에서 Spring에서 XML로 설정된 Transaction Advice에 대해서 Java Configuration 방식으로 어떻게 바꾸는지 질문이 올라왔었다.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0b9598e00ac34851c742aa5677489423/53fd2/question.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 502px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 147.60956175298804%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAErUlEQVRIx51WaZPTRhDV30/lW35IqoCqhCwBkiWEENj1JcmSLOv0JR+yZFvWvS/dbZtlqSXXVHX1jGam73ktRVMH+OHZE3j+DME0Rprusd7sEMcJVusNttsEeV6Ax93d3VeJR9M0UF6/fIHvvv0GNx+7CGcbzBdLTOdrpLs98qLEkYQ1bYt/Giy0pXPKarnEJAgRb2LMp1Ns4y1itiyOEa9WSIhvz7Ra0jrNsDuUSHZH4gXxnJRWnwQrabrDQLVPpNnwgwU0zcVw6NG3MYaGC93w4Lkh1G4fva4GtW9A1UbQdRudmwFGlgNraGC/O0DJsiM8x8fYdilW5SkWLZvPsbm4c+9WU9eoyvLsYoOqKtFS7PLjETXtKWmSYGzZcO0xfMfDYr7ANJxgTe5FiwgTPyC+FHe9sYNltMRsMsV4NEbgBSSwfhBHJaGYmbqBoarD0IZycZemSEhRst1iQ/FMtokQx7euGwk+W8NZ/TLbCl+yTQu6poulhmYID/1QBK5XaxHExELbi/9fZPjeQrpkkmUsyCBL2cL/O0RgdjhITDgeHLemaSnwDeqqouBX4pYcPtciJ+XirrhMyeNzFZ0XgRElYdDpioW2ORJ3mTvWCIHrQx9o4oGpD+FQIizDwmI2w5ISNp/NhXzXk3VJ2SeBEWw6pPU12RjR3DJMEnRKktZXMRqaGHR7krzA40ewlUpYzBZSLg9cZgvZCr5k0QVDHVKRmiLMIWt1EmifrdboHCsKKGG9my4p6VNZhbJ2RjayQ0YCFycLZ6SR4zgNJrQewR279CQnZLUvNTqbzEiRRfszsaZt7iiWFT2GI1GOgkgKuygKZMdMaksO3lVEJQU5p5jkqOqCOF0qMnpB9CpQom5ymT82FNd1cXV1BX7TJA7LVMMs/ojf3j/D6zdP8er6CV788j1+ffsUHfUl3OhnTOK32B4mRB508x362h/oab/DtHtQ/nux3U/zMiEMpcpwDVi2Dj90oJRVhmMZo6hS5BXxMkWWLR/Q4RAJz4sNijoVyqstynon4WnbnDJMYahzKLvjAoukQ66qmMbvEcUDhMFr2PZzjEbP4ThXZ/4TotU7OttHlA4QJT06/yfmy49w3R9hWc/g+2+gPA7G97D+qK9fDIYxJmkBnHrGtHteyzPizeMxB+MlV0JB7YBfQlHk5DpXQCHr07fidJaKXFkTPN3e3uL6+hphGJKADPv9XoSqqirfu92uzD98+ICbmxtCc3qKpolOpyPE9y3Lwng8ZoFrcOlomiYfmabUW1hzEAQiyDAM2e/1eiKMLzJnRSzM930x4MgWXpDj8zZZkfvtv+h0D+PYXmJYi/+C0gSg3BLSJBW+o2K/oHd9Vvp3QwSya67jwmRAOLcCUye0UcnFTg+D3kAQZz5dgLGTlRx2O1HK80t74D3u3wr7zo8/8HxMCWg9BgVCj5CAIqRvDA4895wTtHFz4mbFuLmKVqc+Tj39sD8IOIvL/LuxoY9RxK8iOyE2I3NVfSqhpqklUbyuz6j9qMsVbTD8XA6XZyE1CWjO3e0ilAP/OX1S/BlRo88xIVc58GxyRG4E9GvCtchrtpzrk5WeKqH96g8T/xz8BX973AxB8ToMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Spring Transaction 질문\"\n        title=\"\"\n        src=\"/static/0b9598e00ac34851c742aa5677489423/53fd2/question.png\"\n        srcset=\"/static/0b9598e00ac34851c742aa5677489423/cf440/question.png 148w,\n/static/0b9598e00ac34851c742aa5677489423/d2d38/question.png 295w,\n/static/0b9598e00ac34851c742aa5677489423/53fd2/question.png 502w\"\n        sizes=\"(max-width: 502px) 100vw, 502px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n<br/>\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d6020682c826c66a6740b3da96df1c85/347e3/answer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 499px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 124.24849699398798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsSAAALEgHS3X78AAAEgElEQVQ4y2VVaW/bVhDU3+9faFGgyNf2Y1ukAQLkqC3roA6K4iXelyTLuizbUg5kOvNkuw5iYM3HR3Lf7uzMqBUN+rD/eY1J0CBOayRxhrJaom5uEM8SFHmJLKswC2MUWcGokWclqqrBfn+H4+kzHo6fTNwe7tFKrCv8+/sfsP05oriG56cI0zXi6oC6qlGUDap6wQOW2G5vz7E7hxIc7h7OwfXd/REt5/07fHj1CmO3hB8k8ByflaWIWJHrBqymYFRwnQDe1Ifvzbj24Uw8hP6MESJlV/puf3uHVhP6GL/7CKs3Qr9jYWCNMeh00W8zrvqYjBwM+cyxXdgDG4PugPsWrK6F8cAx3/Q7ffT47m53QOsbzn+eO0M0y+H7rMzLEEQNX9hjS5y2fFGnC6+Xcfr0BZ8+f33G8f7hhFaWZnCcKfx4iSRdIE4qxMUaQbJCXc+RFw3yvMJieYP1ZofVaoP1emuuNzdbXF/fMNbYrHcmaev133/ht19+hmW5GFsTjPpDuLaD9vsLjIeOadnqcs/xMOixXbYsvGzuOxMXI2tk8F0xqalwt9fkDmhYTUE6xLMMaVIgJtA5KVNwIA2nnKclyrw2k9SH97xq/dS64kEJj1zohThKEXBiuiZRxiknXGfkYWWmHngRI8QsiMhLJi9qw1OxIRZH+Z5pWcl0kqoL+XKeFhxOwipzQ+Ao0jozB82CGBn3hae4p0EdDg+45VU5TEL9041aypLSVBOzurqam6QVia3DVIFCe1KNDvPJy4Ds0EEanMFQCXXKsD8iwGNYnQEBn6Db7nEIIzME8fHqooPOZdfs9656GIqvfDbgULrtPgcV/F+hylcrIU/yidVyuTI6VeW7/ZmD+9t7s7ej5M735309F50kyRctn5ClZ8GXRcU250a/WZqjoYaFa8mW5vOlgaJizLVPo9BzHXx6HG7rySUcJ0IYVcYcvOgazmwFkT4WZpo8k4rET4Rek8gitO7vmEj0MQlPlM5qeY0/f/0JblBgMo0NJQKPE2WSlCHQAzc0NBFF0vQ8rCROzaBEarnPdxhu12sqw8bFh0uawRC9S4LPAXQfB2LxKnNof7zCBVUkc/j47gKdiz4V42PNqo+nF7R5YMmigksqTGlNchdJSxSRbU1GLrlIOrGyhhiK3MZo2U1Gi/uBh5JSSK+bMtFoQPqwSovaFY20Hg8mRsOG3IShoAwX82tjICUlKix/SBiFkl9s5KQqJTVvGjCpZSp3jRmMjSyVTNpecMrCUziqy+eEmlJIx5azKHpXA7TbQ4T8+JpSq0mjOZOIo6KNrsvFithtzPPNZvf9UORxSU4PnG+Q5uRgtUPaHLHiBw0/lH7nixvc8/0vX78Z3j0Z6/HRbQxttCmmv33zBiM7YmsRPLY7tT3Yw7HxQ5u+qKnbZIFaHxNj+eGY7Y+4p7U4qaTPFUpCwkumOh5OMWHCoqxREp8lq5OKRGy1ujCtr6mSMwxSjX5Pji8x1DUtVmjYcpwt2OaG7W6xWK2xlO1Tq6fPbI1CMPH4e/IUT0r5D3XrIZ3uEomwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"댓글들\"\n        title=\"\"\n        src=\"/static/d6020682c826c66a6740b3da96df1c85/347e3/answer.png\"\n        srcset=\"/static/d6020682c826c66a6740b3da96df1c85/cf440/answer.png 148w,\n/static/d6020682c826c66a6740b3da96df1c85/d2d38/answer.png 295w,\n/static/d6020682c826c66a6740b3da96df1c85/347e3/answer.png 499w\"\n        sizes=\"(max-width: 499px) 100vw, 499px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>댓글을 보고 좀 더 구체적으로 알아보고 싶다는 욕심이 생겨서 해결방법을 찾아보기 시작했다. 구글이나 스택오버플로우에서 찾아보니 딱히 만족스러운 방법이 없었으나 스프링 레퍼런스에서 힌트를 찾을 수 있었다.</p>\n<blockquote>\n<p><em>17.5.9 Using @Transactional with AspectJ</em></p>\n<p>(중략)</p>\n<p>To weave your applications with the <code class=\"language-text\">AnnotationTransactionAspect</code> you must either build your application with AspectJ (see the AspectJ Development Guide) or use load-time weaving. See Section 11.8.4, “Load-time weaving with AspectJ in the Spring Framework” for a discussion of load-time weaving with AspectJ.</p>\n<p>출처: <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-aspectj\">http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-aspectj</a> </p>\n</blockquote>\n<p>결국 AspectJ를 Java config로 활성화 및 관련 PointCut 설정을 하고 Trasaction Advice를 사용자가 선언한 뒤 TransactionInterceptor에 사용자가 선언한 TxAdvice를 인식할 수 있는 인프라 빈을 주입하면 될 것 같다는 생각이 드는데, 막상 해보려고 하니 또 막막했다.</p>","frontmatter":{"title":"Spring Transaction의 이해 Part1 - Trasaction AOP 설정과 Java Configuration","date":"2017-02-20 01:54:01","tags":["spring","transaction"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/20170220-spring-transaction-part1-overview/","previous":{"fields":{"slug":"/20170201-machine_learning_study_day01/"},"frontmatter":{"title":"Machine Learning Study 01 - 머신러닝의 정의 및 기초 용어 정리"}},"next":{"fields":{"slug":"/20170419-scala-lecture-review/"},"frontmatter":{"title":"Scala 강의 요약"}}}}