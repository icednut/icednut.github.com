<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>spark sql을 이용하여 avro 파일과 parquet 파일 다루기 | Icednut&#39;s Note</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="sparkscalaavroparquet">
  
  
  
  
  <meta name="description" content="준비Scala &amp;amp; Spark SQL에서 avro, parquet 파일을 읽고 쓰는 것은 어떻게 하는지 그리고 간단한 예제를 통해 실습한 내용을 정리한다. (avro와 parquet에 대한 설명은 여기서는 생략)먼저 아래 내용들을 통해 실습 환경을 셋팅하자.  CDH 설치  Google에서 Cloudera CDH 검색 CDH &amp;gt; quickstar">
<meta name="keywords" content="spark,scala,avro,parquet">
<meta property="og:type" content="article">
<meta property="og:title" content="Spark SQL을 이용하여 avro 파일과 parquet 파일 다루기">
<meta property="og:url" content="http://icednut.github.io/2017/09/02/20170902-spark-sql-with-avro-parquet/index.html">
<meta property="og:site_name" content="Icednut&#39;s Note">
<meta property="og:description" content="준비Scala &amp;amp; Spark SQL에서 avro, parquet 파일을 읽고 쓰는 것은 어떻게 하는지 그리고 간단한 예제를 통해 실습한 내용을 정리한다. (avro와 parquet에 대한 설명은 여기서는 생략)먼저 아래 내용들을 통해 실습 환경을 셋팅하자.  CDH 설치  Google에서 Cloudera CDH 검색 CDH &amp;gt; quickstar">
<meta property="og:locale" content="Korean">
<meta property="og:updated_time" content="2018-11-27T06:40:43.293Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spark SQL을 이용하여 avro 파일과 parquet 파일 다루기">
<meta name="twitter:description" content="준비Scala &amp;amp; Spark SQL에서 avro, parquet 파일을 읽고 쓰는 것은 어떻게 하는지 그리고 간단한 예제를 통해 실습한 내용을 정리한다. (avro와 parquet에 대한 설명은 여기서는 생략)먼저 아래 내용들을 통해 실습 환경을 셋팅하자.  CDH 설치  Google에서 Cloudera CDH 검색 CDH &amp;gt; quickstar">
  
    <link rel="alternate" href="/atom.xml" title="Icednut&#39;s Note" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  

<link rel="stylesheet" href="/css/prism-coy.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="border-width: 0;">
                <p>Icednut&#39;s Note</p>
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">Home</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">Archives</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">Categories</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">Tags</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">About</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </ul></div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-20170902-spark-sql-with-avro-parquet" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      Spark SQL을 이용하여 avro 파일과 parquet 파일 다루기
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/09/02/20170902-spark-sql-with-avro-parquet/" class="article-date">
	  <time datetime="2017-09-02T06:38:55.000Z" itemprop="datePublished">2017-09-02</time>
	</a>

      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="준비"><a href="#준비" class="headerlink" title="준비"></a>준비</h2><p>Scala &amp; Spark SQL에서 avro, parquet 파일을 읽고 쓰는 것은 어떻게 하는지 그리고 간단한 예제를 통해 실습한 내용을 정리한다. (avro와 parquet에 대한 설명은 여기서는 생략)<br>먼저 아래 내용들을 통해 실습 환경을 셋팅하자.</p>
<ol>
<li><p>CDH 설치</p>
<ul>
<li>Google에서 Cloudera CDH 검색</li>
<li>CDH &gt; quickstart Virtual Box 버전을 다운로드</li>
<li>압축 해제 후 Virtual Box에서 실행</li>
</ul>
</li>
<li><p>sqoop을 통한 avro 파일로 hdfs에 import 작업 진행</p>
<ul>
<li><p>hdfs의 적당한 곳에 디렉토리를 생성한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hdfs dfs -mkdir /user/cloudera/test_avro_warehouse</span><br></pre></td></tr></table></figure>
</li>
<li><p>sqoop을 통해 MySQL 데이터를 HDFS로 import 한다. (파일 포맷은 avro. 압축 형태는 snappy)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sqoop import-all-tables \</span><br><span class="line">-m 1 \</span><br><span class="line">--connect jdbc:mysql://quickstart:3306/retail_db \</span><br><span class="line">--username=retail_dba \</span><br><span class="line">--password=cloudera \</span><br><span class="line">--as-avrodatafile \</span><br><span class="line">--compression-codec=snappy \</span><br><span class="line">--warehouse-dir=/user/cloudera/test_avro_warehouse</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>이번에는 parquet 파일로 hdfs에 import 진행</p>
<ul>
<li>sqoop을 통해 MySQL 데이터를 HDFS로 import 한다. (파일 포맷은 parquet. 압축 형태는 snappy)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sqoop import-all-tables \</span><br><span class="line">-m 1 \</span><br><span class="line">--connect jdbc:mysql://quickstart:3306/retail_db \</span><br><span class="line">--username=retail_dba \</span><br><span class="line">--password=cloudera \</span><br><span class="line">--as-parquetfile \</span><br><span class="line">--compression-codec=snappy \</span><br><span class="line">--warehouse-dir=/user/cloudera/test_avro_warehouse</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>spark-shell 실행</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ spark-shell</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Avro"><a href="#Avro" class="headerlink" title="Avro"></a>Avro</h2><p>Spark에서 avro 파일을 읽고 쓰려면 avro 관련 라이브러리를 import 해야 된다.<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.databricks.spark.avro._</span><br></pre></td></tr></table></figure></p>
<p>그 다음 sqlContext.read.avro(“…”) 혹은 sqlContext().read.format(“com.databricsk.spark.avro”).load(“…”)을 통해 파일을 읽는다.<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.databricks.spark.avro._</span><br><span class="line"><span class="keyword">val</span> df = sqlContext.read.avro(<span class="string">"input dir"</span>)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.databricks.spark.avro._</span><br><span class="line"><span class="keyword">val</span> df = sqlContext.read.format(<span class="string">"com.databricks.spark.avro"</span>).load(<span class="string">"input dir"</span>)</span><br></pre></td></tr></table></figure>
<h5 id="연습1-hdfs-quickstart-user-cloudera-test-avro-warehouse-orders에서-order-status가-COMPLETE-면서-customer-id-별로-주문을-몇건씩-했는지-살펴본-뒤-결과는-parquet로-저장-해보자-parquet-압축은-gzip"><a href="#연습1-hdfs-quickstart-user-cloudera-test-avro-warehouse-orders에서-order-status가-COMPLETE-면서-customer-id-별로-주문을-몇건씩-했는지-살펴본-뒤-결과는-parquet로-저장-해보자-parquet-압축은-gzip" class="headerlink" title="연습1. hdfs://quickstart/user/cloudera/test_avro_warehouse/orders에서 order_status가 COMPLETE 면서 customer_id 별로 주문을 몇건씩 했는지 살펴본 뒤 결과는 parquet로 저장 해보자. (parquet 압축은 gzip)"></a>연습1. <code>hdfs://quickstart/user/cloudera/test_avro_warehouse/orders</code>에서 order_status가 <code>COMPLETE</code> 면서 customer_id 별로 주문을 몇건씩 했는지 살펴본 뒤 결과는 parquet로 저장 해보자. (parquet 압축은 gzip)</h5><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.databricks.spark.avro._</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql._</span><br><span class="line">  </span><br><span class="line"><span class="keyword">val</span> ordersDf = sqlContext.read.avro(<span class="string">"/user/cloudera/test_avro_warehouse/orders"</span>)</span><br><span class="line"><span class="keyword">val</span> countRdd = ordersDf.filter(<span class="string">"order_status = 'COMPLETE'"</span>).map(row =&gt; (row.getAs[<span class="type">Integer</span>](<span class="string">"order_customer_id"</span>), <span class="number">1</span>)).reduceByKey(_ + _).map(pair =&gt; <span class="type">Row</span>(pair._1, pair._2))</span><br><span class="line">  </span><br><span class="line">sqlContext.setConf(<span class="string">"spark.sql.parquet.compression.codec"</span>, <span class="string">"gzip"</span>)</span><br><span class="line">  </span><br><span class="line"><span class="keyword">val</span> schema = <span class="type">StructType</span>(</span><br><span class="line">  <span class="type">StructField</span>(<span class="string">"customer_id"</span>, <span class="type">IntegerType</span>, <span class="literal">false</span>) ::</span><br><span class="line">  <span class="type">StructField</span>(<span class="string">"count"</span>, <span class="type">IntegerType</span>, <span class="literal">false</span>) :: <span class="type">Nil</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">val</span> countDf = sqlContext.createDataFrame(countRdd, schema)</span><br><span class="line">countDf.write.parquet(<span class="string">"/user/cloudera/test_parquet_warehouse/orders_count"</span>)</span><br></pre></td></tr></table></figure>
<h5 id="연습2-json-파일을-읽어서-HDFS에-avro-파일로-저장해보자-with-snappy-compression"><a href="#연습2-json-파일을-읽어서-HDFS에-avro-파일로-저장해보자-with-snappy-compression" class="headerlink" title="연습2. json 파일을 읽어서 HDFS에 avro 파일로 저장해보자. (with snappy compression)"></a>연습2. json 파일을 읽어서 HDFS에 avro 파일로 저장해보자. (with snappy compression)</h5><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.databricks.spark.avro._</span><br><span class="line">  </span><br><span class="line"><span class="keyword">val</span> personJsonDf = sqlContext.read.json(<span class="string">"/user/cloudera/test_json_warehouse"</span>)</span><br><span class="line">  </span><br><span class="line">sqlContext.setConf(<span class="string">"spark.sql.avro.compression.codec"</span>, <span class="string">"snappy"</span>)</span><br><span class="line">personJsonDf.write.avro(<span class="string">"/user/cloudera/test_avro_warehouse/person"</span>)</span><br><span class="line">  </span><br><span class="line"><span class="keyword">val</span> personAvroDf = sqlContext.read.avro(<span class="string">"/user/cloudera/test_avro_warehouse/person"</span>)</span><br><span class="line">personAvroDf.printSchema()</span><br><span class="line">personAvroDf.show(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Parquet"><a href="#Parquet" class="headerlink" title="Parquet"></a>Parquet</h2><p>Parquet 파일을 다룰 때는 따로 import 해줘야할 라이브러리가 없다. 그냥 <code>sqlContext.read.parquet(&quot;inpurt file&quot;)</code>을 통해 parquet 파일을 읽으면 된다.</p>
<h5 id="연습3-hdfs-quickstart-user-cloudera-test-parquet-warehouse-orders을-읽어서-HDFS에-avro-파일로-저장해보자"><a href="#연습3-hdfs-quickstart-user-cloudera-test-parquet-warehouse-orders을-읽어서-HDFS에-avro-파일로-저장해보자" class="headerlink" title="연습3. hdfs://quickstart/user/cloudera/test_parquet_warehouse/orders을 읽어서 HDFS에 avro 파일로 저장해보자."></a>연습3. <code>hdfs://quickstart/user/cloudera/test_parquet_warehouse/orders</code>을 읽어서 HDFS에 avro 파일로 저장해보자.</h5><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.databricks.spark.avro._</span><br><span class="line">  </span><br><span class="line"><span class="keyword">val</span> ordersCountDf = sqlContext.read.parquet(<span class="string">"/user/cloudera/test_parquet_warehouse/orders_count"</span>)</span><br><span class="line">  </span><br><span class="line">sqlContext.setConf(<span class="string">"spark.sql.avro.compression.codec"</span>, <span class="string">"snappy"</span>)</span><br><span class="line">ordersCountDf.write.avro(<span class="string">"/user/cloudera/test_avro_warehouse/orders_count"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="참고-자료"><a href="#참고-자료" class="headerlink" title="참고 자료"></a>참고 자료</h2><ul>
<li><a href="https://www.cloudera.com/more/training/certification/cca-spark.html" target="_blank" rel="noopener">https://www.cloudera.com/more/training/certification/cca-spark.html</a></li>
<li><a href="https://www.cloudera.com/documentation/enterprise/latest/topics/cdh_ig_avro_usage.html#concept_okv_lwy_pv" target="_blank" rel="noopener">https://www.cloudera.com/documentation/enterprise/latest/topics/cdh_ig_avro_usage.html#concept_okv_lwy_pv</a></li>
<li><a href="https://www.cloudera.com/documentation/enterprise/latest/topics/spark_avro.html" target="_blank" rel="noopener">https://www.cloudera.com/documentation/enterprise/latest/topics/spark_avro.html</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>Post author:  </strong>Icednut
          </li>
          <li class="post-copyright-link">
          <strong>Post link:  </strong>
          <a href="/2017/09/02/20170902-spark-sql-with-avro-parquet/" target="_blank" title="Spark SQL을 이용하여 avro 파일과 parquet 파일 다루기">http://icednut.github.io/2017/09/02/20170902-spark-sql-with-avro-parquet/</a>
          </li>
          <li class="post-copyright-license">
            <strong>Copyright Notice:   </strong>
            All articles in this blog are licensed under <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            unless stating additionally.
          </li>
         
        </ul>
<div>
</div></div>
      
      
        
	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'icednut';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>



      
      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/09/04/20170904-java-web-develop-with-spring/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Java Web 개발 살펴보기 (Model 1 부터 Spring Web 까지)
        
      </div>
    </a>
  
  
    <a href="/2017/08/30/20170830-oracle-code-seoul/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Oracle Code Seoul</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2019 Icednut&#39;s Note All Rights Reserved.</p>
	      
	      
  		   	<p id="copyRightCn">Icednut hold copyright</p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>


  <script src="/js/home.js"></script>



  <script src="/js/dialog.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-91631073-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->












  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Icednut&#39;s Note
          </div>
          <div class="panel-body">
            Copyright © 2019 Icednut All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>